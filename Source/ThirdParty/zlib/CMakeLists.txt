
project(zlib)

SET(SOURCE_FILES
  ${CMAKE_CURRENT_LIST_DIR}/adler32.c
  ${CMAKE_CURRENT_LIST_DIR}/compress.c
  ${CMAKE_CURRENT_LIST_DIR}/crc32.c
  ${CMAKE_CURRENT_LIST_DIR}/crc32.h
  ${CMAKE_CURRENT_LIST_DIR}/deflate.c
  ${CMAKE_CURRENT_LIST_DIR}/deflate.h
  ${CMAKE_CURRENT_LIST_DIR}/gzclose.c
  ${CMAKE_CURRENT_LIST_DIR}/gzguts.h
  ${CMAKE_CURRENT_LIST_DIR}/gzlib.c
  ${CMAKE_CURRENT_LIST_DIR}/gzread.c
  ${CMAKE_CURRENT_LIST_DIR}/gzwrite.c
  ${CMAKE_CURRENT_LIST_DIR}/infback.c
  ${CMAKE_CURRENT_LIST_DIR}/inffast.c
  ${CMAKE_CURRENT_LIST_DIR}/inffast.h
  ${CMAKE_CURRENT_LIST_DIR}/inffixed.h
  ${CMAKE_CURRENT_LIST_DIR}/inflate.c
  ${CMAKE_CURRENT_LIST_DIR}/inflate.h
  ${CMAKE_CURRENT_LIST_DIR}/inftrees.c
  ${CMAKE_CURRENT_LIST_DIR}/inftrees.h
  ${CMAKE_CURRENT_LIST_DIR}/trees.c
  ${CMAKE_CURRENT_LIST_DIR}/trees.h
  ${CMAKE_CURRENT_LIST_DIR}/zconf.h
  ${CMAKE_CURRENT_LIST_DIR}/zlib.h
  ${CMAKE_CURRENT_LIST_DIR}/zutil.c
  ${CMAKE_CURRENT_LIST_DIR}/zutil.h
)

if ( MSVC80 OR MSVC90 OR MSVC10 )
  ADD_DEFINITIONS( -D_SCL_SECURE_NO_WARNINGS )
  ADD_DEFINITIONS( -D_CRT_SECURE_NO_WARNINGS )
endif ( MSVC80 OR MSVC90 OR MSVC10 )

add_library(zlib ${SOURCE_FILES})
set_property(
  TARGET zlib
  APPEND PROPERTY INTERFACE_INCLUDE_DIRECTORIES ${CMAKE_CURRENT_LIST_DIR}
)
